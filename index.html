<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Be My Valentine? ğŸ’Œ</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Great+Vibes&family=Lora:ital,wght@0,400;0,500;1,400;1,500&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Scene 1: 8-bit Envelope -->
    <section class="scene is-active" id="scene-1">
        <div class="scene-content">
            <div class="envelope-container" id="envelope-container">

                <div class="envelope" id="envelope">

                    <!--
                        FLAP: overlays the top half of the envelope body.
                        Resting state  â†’ triangle points DOWN (â–½) â€” sealed
                        After click    â†’ rotateX(180deg) around its TOP edge
                                         so it flips "open" upward, revealing â–³
                    -->
                    <div class="envelope-flap" id="flap"></div>

                    <!-- BODY: clean rectangle -->
                    <div class="envelope-body">
                        <!-- Decorative V-crease lines -->
                        <div class="fold-left"></div>
                        <div class="fold-right"></div>

                        <!-- Pixel-art heart seal sitting on the crease -->
                        <div class="heart-seal" id="heart-seal">
                            <div class="heart-pixel"></div>
                        </div>
                    </div>

                </div>

                <p class="click-hint" id="click-hint">click to open ğŸ’Œ</p>
            </div>
        </div>
    </section>

    <!-- Scene 2: Love Letter -->
    <section class="scene" id="scene-2">

        <!-- Click-outside overlay â€” sits behind the letter, advances scene -->
        <div class="letter-overlay" id="letter-overlay"></div>

        <div class="letter-wrapper" id="letter-wrapper">

            <!-- Paper sheet -->
            <article class="letter-paper" id="letter-paper">

                <!-- Decorative top border line -->
                <div class="letter-rule"></div>

                <!-- "Dear Emily" â€” filled by JS typewriter -->
                <h1 class="letter-salutation" id="letter-salutation"></h1>

                <!-- Body â€” edit your text freely between the <p> tags -->
                <div class="letter-body" id="letter-body">
                    <p>From the very first moment I saw you, I knew there was something extraordinary about you â€” the way your eyes light up when you laugh, the warmth you carry everywhere you go, and the quiet kindness you show to everyone around you.</p>

                    <p>Every day with you feels like discovering a new favourite song: familiar enough to feel like home, and wonderful enough that I never want it to end. You make ordinary moments feel like something worth remembering forever.</p>

                    <p>I love the way you hum softly when you're thinking. I love how you always notice the small things â€” a pretty cloud, a sleepy cat, a perfect cup of tea. I love that you make me want to be more present, more patient, more myself.</p>

                    <p>There are a thousand little reasons I fall for you over and over again, and today I just wanted to put some of them into words â€” even though no words quite do it justice.</p>

                    <p>You are my favourite person in the world, and I feel so lucky to call you mine.</p>
                </div>

                <!-- Closing -->
                <div class="letter-closing" id="letter-closing">
                    <p class="closing-line">Forever yours,</p>
                    <p class="closing-signature">Your Valentine ğŸ’Œ</p>
                </div>

                <!-- Decorative bottom border line -->
                <div class="letter-rule letter-rule--bottom"></div>

            </article>

            <!-- "Click outside to continue" hint -->
            <p class="outside-hint" id="outside-hint">click outside to continue â†’</p>

        </div>
    </section>

    <!-- Persistent flower field â€” lives outside scenes so it stays across S3â†’S4 -->
    <div class="flower-field" id="flower-field"></div>

    <!-- Scene 3: Will You Be My Valentine? -->
    <section class="scene" id="scene-3">

        <!-- The popup card â€” hidden until flowers finish -->
        <div class="valentine-card" id="valentine-card">

            <p class="vc-question">Will you be my</p>

            <!--
                PHOTO SLOT â€” replace src with your image path, e.g.:
                src="assets/us.jpg"
                The image is cropped to a rounded rectangle via CSS.
            -->
            <div class="vc-photo-wrap">
                <img
                    class="vc-photo"
                    id="vc-photo"
                    src="assets/photo.jpg"
                    alt="Our photo"
                />
                <!-- Fallback heart shown if image fails to load -->
                <div class="vc-photo-fallback" id="vc-photo-fallback">ğŸ’–</div>
            </div>

            <p class="vc-valentine">Valentine?</p>

            <div class="vc-buttons">
                <button class="vc-btn vc-btn--yes"  id="btn-yes">Yes! ğŸ’–</button>
                <button class="vc-btn vc-btn--no"   id="btn-no">No ğŸ™ˆ</button>
            </div>

        </div>

    </section>

    <!-- Scene 4: Surprise Gifts -->
    <section class="scene" id="scene-4">

        <div class="gifts-wrapper" id="gifts-wrapper">

            <!-- Scrollable card -->
            <article class="gifts-card" id="gifts-card">

                <!-- Floating decorative hearts -->
                <div class="gifts-hearts" aria-hidden="true">
                    <span class="gh gh-1">â™¥</span>
                    <span class="gh gh-2">â™¥</span>
                    <span class="gh gh-3">â™¥</span>
                    <span class="gh gh-4">â™¥</span>
                    <span class="gh gh-5">â™¥</span>
                    <span class="gh gh-6">â™¥</span>
                </div>

                <div class="gifts-rule"></div>

                <!-- Title â€” typewritten by JS -->
                <h1 class="gifts-title" id="gifts-title"></h1>

                <p class="gifts-subtitle" id="gifts-subtitle">
                    Three little surprises, just for you ğŸ€
                </p>

                <!-- Three gift box portals -->
                <div class="gifts-grid" id="gifts-grid">

                    <!-- Gift 1 -->
                    <div class="gift-portal" id="gift-1" data-scene="5">
                        <div class="gift-box gift-box--pink">
                            <div class="gift-lid">
                                <div class="gift-lid-ribbon"></div>
                            </div>
                            <div class="gift-body">
                                <div class="gift-body-ribbon"></div>
                            </div>
                            <div class="gift-bow">
                                <div class="bow-left"></div>
                                <div class="bow-right"></div>
                                <div class="bow-knot"></div>
                            </div>
                        </div>
                                    </div>

                    <!-- Gift 2 -->
                    <div class="gift-portal" id="gift-2" data-scene="6">
                        <div class="gift-box gift-box--lavender">
                            <div class="gift-lid">
                                <div class="gift-lid-ribbon"></div>
                            </div>
                            <div class="gift-body">
                                <div class="gift-body-ribbon"></div>
                            </div>
                            <div class="gift-bow">
                                <div class="bow-left"></div>
                                <div class="bow-right"></div>
                                <div class="bow-knot"></div>
                            </div>
                        </div>
                                    </div>

                    <!-- Gift 3 -->
                    <div class="gift-portal" id="gift-3" data-scene="7">
                        <div class="gift-box gift-box--mint">
                            <div class="gift-lid">
                                <div class="gift-lid-ribbon"></div>
                            </div>
                            <div class="gift-body">
                                <div class="gift-body-ribbon"></div>
                            </div>
                            <div class="gift-bow">
                                <div class="bow-left"></div>
                                <div class="bow-right"></div>
                                <div class="bow-knot"></div>
                            </div>
                        </div>
                                    </div>

                </div>

                <div class="gifts-rule gifts-rule--bottom"></div>

            </article>
        </div>

    </section>

    <!-- Scene 5: Sliding Puzzle -->
    <section class="scene" id="scene-5">

        <div class="puzzle-wrapper" id="puzzle-wrapper">

            <h2 class="puzzle-title" id="puzzle-title">Solve to see the full picture!</h2>

            <!-- The 3Ã—3 grid; tiles injected by JS -->
            <div class="puzzle-board" id="puzzle-board"></div>

            <!-- Solve overlay â€” fades in on completion -->
            <div class="puzzle-solved" id="puzzle-solved">
                <p class="puzzle-solved-text">We complete each other</p>
                <div class="puzzle-hearts">
                    <span>ğŸ’–</span><span>ğŸ’–</span><span>ğŸ’–</span>
                </div>
                <button class="puzzle-back-btn" id="puzzle-back-btn">â† Back to Gifts</button>
            </div>

        </div>

    </section>
    <section class="scene" id="scene-6">
        <div class="scene-content">
            <h1 style="font-family:'Press Start 2P',cursive;color:#c06080;font-size:1rem;">Scene 6: Gallery ğŸ“¸</h1>
        </div>
    </section>
    <section class="scene" id="scene-7">
        <div class="scene-content">
            <h1 style="font-family:'Press Start 2P',cursive;color:#c06080;font-size:1rem;">Scene 7: Video ğŸ¬</h1>
        </div>
    </section>

    <!--
        BACKGROUND MUSIC
        Replace src with your audio file path, e.g.: assets/music.mp3
        Starts muted; JS unmutes after first envelope click.
        The small toggle button (bottom-right) lets her pause/resume.
    -->
    <audio id="bg-music" loop preload="auto">
        <source src="assets/music.mp3" type="audio/mpeg">
        <source src="assets/music.ogg" type="audio/ogg">
    </audio>

    <!-- Music toggle pill â€” always visible after music starts -->
    <button class="music-toggle" id="music-toggle" aria-label="Toggle music" hidden>
        <span class="music-icon" id="music-icon">â™ª</span>
    </button>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <!-- SplitType for typewriter character splitting -->
    <script src="https://cdn.jsdelivr.net/npm/split-type@0.3.4/umd/index.min.js"></script>
    <script src="app.js"></script>
</body>
</html>
