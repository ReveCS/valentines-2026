<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Be My Valentine? ğŸ’Œ</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Great+Vibes&family=Lora:ital,wght@0,400;0,500;1,400;1,500&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Scene 1: 8-bit Envelope -->
    <section class="scene is-active" id="scene-1">
        <div class="scene-content">
            <div class="envelope-container" id="envelope-container">

                <div class="envelope" id="envelope">

                    <!--
                        FLAP: overlays the top half of the envelope body.
                        Resting state  â†’ triangle points DOWN (â–½) â€” sealed
                        After click    â†’ rotateX(180deg) around its TOP edge
                                         so it flips "open" upward, revealing â–³
                    -->
                    <div class="envelope-flap" id="flap"></div>

                    <!-- BODY: clean rectangle -->
                    <div class="envelope-body">
                        <!-- Decorative V-crease lines -->
                        <div class="fold-left"></div>
                        <div class="fold-right"></div>

                        <!-- Pixel-art heart seal sitting on the crease -->
                        <div class="heart-seal" id="heart-seal">
                            <div class="heart-pixel"></div>
                        </div>
                    </div>

                </div>

                <p class="click-hint" id="click-hint">click to open ğŸ’Œ</p>
            </div>
        </div>
    </section>

    <!-- Scene 2: Love Letter -->
    <section class="scene" id="scene-2">

        <!-- Click-outside overlay â€” sits behind the letter, advances scene -->
        <div class="letter-overlay" id="letter-overlay"></div>

        <div class="letter-wrapper" id="letter-wrapper">

            <!-- Paper sheet -->
            <article class="letter-paper" id="letter-paper">

                <!-- Decorative top border line -->
                <div class="letter-rule"></div>

                <!-- "Dear Emily" â€” filled by JS typewriter -->
                <h1 class="letter-salutation" id="letter-salutation"></h1>

                <!-- Body â€” edit your text freely between the <p> tags -->
                <div class="letter-body" id="letter-body">
                    <p>I'm so happy I get to celebrate having you in my life on this special day. This year, I have been reminded time and time again how lucky I am to be your boyfriend. Let me remind you how amazing you are and why I love you:</p>

                    <p>I love the way you know all the lyrics to every song and turn showers/car rides into a karaoke.</p>
                    
                    <p>I love the way you're always right about everything.</p>

                    <p>I love how we have such similar tastes in interests, humor, music, to the point that you put me on life.</p>

                    <p>I love how you effortlessly make me laugh and brighten up my day with tea and story times.</p>

                    <p>I love your cuddles and kisses and how you always make me feel at home.</p>

                    <p>Thank you for supporting me through all these crazy changes this past year. Even though I'm not by your side right now, my love for you is stronger than ever and I'm counting down the days til I see you again.</p>

                    <p>Thank you for listening to me when I have rough days and for being understanding and forgiving when I mess up. You are the reason I have the strength to get up every day and what I work towards.</p>
                    <p>
                        Thank you for being a bright light in my life. You have a caring and considerate soul that puts others above yourself, and I love you for it. I'm especially so proud of how far you've come with your accomplishments recently, since I know things haven't been easy these last few months. You are worth more than any amount of money or accolades. I will always be by your side and cheerleading you through the highs and lows.
                    </p>

                    <p>There are a thousand little reasons I fall for you over and over again, and today I just wanted to put some of them into words.</p>

                    <p>I'm looking forward to making more memories with you and spending our lives together. I love you and thank you for being mine.</p>
                </div>

                <!-- Closing -->
                <div class="letter-closing" id="letter-closing">
                    <p class="closing-line">Forever yours,</p>
                    <p class="closing-signature">Your Valentine ğŸ’Œ</p>
                </div>

                <!-- Decorative bottom border line -->
                <div class="letter-rule letter-rule--bottom"></div>

            </article>

            <!-- "Click outside to continue" hint -->
            <p class="outside-hint" id="outside-hint">click outside to continue â†’</p>

        </div>
    </section>

    <!-- Persistent flower field â€” lives outside scenes so it stays across S3â†’S4 -->
    <div class="flower-field" id="flower-field"></div>

    <!-- Scene 3: Will You Be My Valentine? -->
    <section class="scene" id="scene-3">

        <!-- The popup card â€” hidden until flowers finish -->
        <div class="valentine-card" id="valentine-card">

            <p class="vc-question">Will you be my</p>

            <!--
                PHOTO SLOT â€” replace src with your image path, e.g.:
                src="assets/us.jpg"
                The image is cropped to a rounded rectangle via CSS.
            -->
            <div class="vc-photo-wrap">
                <img
                    class="vc-photo"
                    id="vc-photo"
                    src="assets/valentines.png"
                    alt="Our photo"
                />
                <!-- Fallback heart shown if image fails to load -->
                <div class="vc-photo-fallback" id="vc-photo-fallback">ğŸ’–</div>
            </div>

            <p class="vc-valentine">Valentine?</p>

            <div class="vc-buttons">
                <button class="vc-btn vc-btn--yes"  id="btn-yes">Yes! ğŸ’–</button>
                <button class="vc-btn vc-btn--no"   id="btn-no">No ğŸ™ˆ</button>
            </div>

        </div>

    </section>

    <!-- Scene 4: Surprise Gifts -->
    <section class="scene" id="scene-4">

        <div class="gifts-wrapper" id="gifts-wrapper">

            <!-- Scrollable card -->
            <article class="gifts-card" id="gifts-card">

                <!-- Floating decorative hearts -->
                <div class="gifts-hearts" aria-hidden="true">
                    <span class="gh gh-1">â™¥</span>
                    <span class="gh gh-2">â™¥</span>
                    <span class="gh gh-3">â™¥</span>
                    <span class="gh gh-4">â™¥</span>
                    <span class="gh gh-5">â™¥</span>
                    <span class="gh gh-6">â™¥</span>
                </div>

                <div class="gifts-rule"></div>

                <!-- Title â€” typewritten by JS -->
                <h1 class="gifts-title" id="gifts-title"></h1>

                <p class="gifts-subtitle" id="gifts-subtitle">
                    Three little surprises, just for you ğŸ€
                </p>

                <!-- Three gift box portals -->
                <div class="gifts-grid" id="gifts-grid">

                    <!-- Gift 1 -->
                    <div class="gift-portal" id="gift-1" data-scene="5">
                        <div class="gift-box gift-box--pink">
                            <div class="gift-lid">
                                <div class="gift-lid-ribbon"></div>
                            </div>
                            <div class="gift-body">
                                <div class="gift-body-ribbon"></div>
                            </div>
                            <div class="gift-bow">
                                <div class="bow-left"></div>
                                <div class="bow-right"></div>
                                <div class="bow-knot"></div>
                            </div>
                        </div>
                                    </div>

                    <!-- Gift 2 -->
                    <div class="gift-portal" id="gift-2" data-scene="6">
                        <div class="gift-box gift-box--lavender">
                            <div class="gift-lid">
                                <div class="gift-lid-ribbon"></div>
                            </div>
                            <div class="gift-body">
                                <div class="gift-body-ribbon"></div>
                            </div>
                            <div class="gift-bow">
                                <div class="bow-left"></div>
                                <div class="bow-right"></div>
                                <div class="bow-knot"></div>
                            </div>
                        </div>
                                    </div>

                    <!-- Gift 3 -->
                    <div class="gift-portal" id="gift-3" data-scene="7">
                        <div class="gift-box gift-box--mint">
                            <div class="gift-lid">
                                <div class="gift-lid-ribbon"></div>
                            </div>
                            <div class="gift-body">
                                <div class="gift-body-ribbon"></div>
                            </div>
                            <div class="gift-bow">
                                <div class="bow-left"></div>
                                <div class="bow-right"></div>
                                <div class="bow-knot"></div>
                            </div>
                        </div>
                                    </div>

                </div>

                <div class="gifts-rule gifts-rule--bottom"></div>

            </article>
        </div>

    </section>

    <!-- Scene 5: Sliding Puzzle -->
    <section class="scene" id="scene-5">

        <div class="puzzle-wrapper" id="puzzle-wrapper">

            <h2 class="puzzle-title" id="puzzle-title">Solve to see the full picture!</h2>

            <!-- Always-visible back button -->
            <button class="puzzle-persist-back-btn" id="puzzle-persist-back">â† Back to Gifts</button>

            <!-- The 3Ã—3 grid; tiles injected by JS -->
            <div class="puzzle-board" id="puzzle-board"></div>

            <!-- Solve overlay â€” fades in on completion -->
            <div class="puzzle-solved" id="puzzle-solved">
                <p class="puzzle-solved-text">We complete each other</p>
                <div class="puzzle-hearts">
                    <span>ğŸ’–</span><span>ğŸ’–</span><span>ğŸ’–</span>
                </div>
                <button class="puzzle-back-btn" id="puzzle-back-btn">â† Back to Gifts</button>
            </div>

        </div>

    </section>
    <!-- Scene 6: Word Search -->
    <section class="scene" id="scene-6">
        <div class="wordsearch-wrapper" id="wordsearch-wrapper">

            <h2 class="ws-title">Highlights of Our Last Year</h2>

            <!-- Grid injected by JS -->
            <div class="ws-grid" id="ws-grid"></div>

            <!-- Word bank â€” first letter only until found -->
            <div class="ws-bank" id="ws-bank"></div>

            <button class="puzzle-persist-back-btn ws-back-btn" id="ws-back-btn">â† Back to Gifts</button>

        </div>
    </section>
    <!-- Scene 7: YouTube Video -->
    <section class="scene" id="scene-7">
        <div class="video-wrapper" id="video-wrapper">

            <h2 class="video-title">A Blast into the Past</h2>

            <!--
                Replace VIDEO_ID below with your YouTube video ID.
                e.g. for https://youtube.com/watch?v=dQw4w9WgXcQ â†’ use dQw4w9WgXcQ
            -->
            <div class="video-frame-wrap">
                <iframe
                    id="yt-player"
                    class="video-iframe"
                    src="https://www.youtube.com/embed/B-6jWlL2kcA"
                    title="A Blast into the Past"
                    frameborder="0"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                    allowfullscreen>
                </iframe>
            </div>

            <div class="video-actions">
                <button class="puzzle-persist-back-btn video-back-btn" id="video-back-btn">â† Back to Gifts</button>
                <button class="video-continue-btn" id="video-continue-btn">Continue â†’</button>
            </div>

        </div>
    </section>

    <!-- Scene 8: The End -->
    <section class="scene" id="scene-8">
        <div class="ending-wrapper" id="ending-wrapper">
            <p class="ending-line ending-line--1" id="ending-l1">The End!</p>
            <p class="ending-line ending-line--2" id="ending-l2">Can't wait to spend the rest of</p>
            <p class="ending-line ending-line--3" id="ending-l3">Valentine's Day with my Babes.</p>
            <div class="ending-hearts" id="ending-hearts">
                <span>ğŸ’–</span><span>ğŸŒ¸</span><span>ğŸ’•</span><span>âœ¨</span><span>ğŸ’—</span>
            </div>
        </div>
    </section>

    <!--
        BACKGROUND MUSIC
        Replace src with your audio file path, e.g.: assets/music.mp3
        Starts muted; JS unmutes after first envelope click.
        The small toggle button (bottom-right) lets her pause/resume.
    -->
    <audio id="bg-music" loop preload="auto">
        <source src="assets/music.mp3" type="audio/mpeg">
        <source src="assets/music.ogg" type="audio/ogg">
    </audio>

    <!-- Music toggle pill â€” always visible after music starts -->
    <button class="music-toggle" id="music-toggle" aria-label="Toggle music" hidden>
        <span class="music-icon" id="music-icon">â™ª</span>
    </button>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <!-- SplitType for typewriter character splitting -->
    <script src="https://cdn.jsdelivr.net/npm/split-type@0.3.4/umd/index.min.js"></script>
    <script src="app.js"></script>
</body>
</html>
